{% extends 'core/base.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section position-relative">
  <!-- Atmospheric Nebula Glows -->
  <div class="nebula-glow nebula-1"></div>
  <div class="nebula-glow nebula-2"></div>

  <div class="container position-relative z-2">
    <div class="row align-items-center">
      <div class="col-lg-6" data-aos="fade-up">
        <div class="hero-content">
          <h1 class="hero-main-h1">
            {% if site_settings.hero_title %}
            {{ site_settings.hero_title|safe }}
            {% else %}
            Architecting the <span class="text-gradient">Future</span> of Intelligence
            {% endif %}
          </h1>
          <p class="hero-sub-text">
            {% if site_settings.hero_subtitle %}
            {{ site_settings.hero_subtitle }}
            {% else %}
            We build autonomous agentic ecosystems that redefine enterprise efficiency. Experience the next generation
            of AI integration.
            {% endif %}
          </p>
          <div class="d-flex flex-wrap gap-4">
            <a href="{% url 'core:trainings' %}" class="btn btn-glow btn-lg px-5 py-3 rounded-pill fw-bold">
              Explore Academy
            </a>
            <a href="{% url 'core:contact' %}" class="btn btn-glass-premium btn-lg px-5 py-3 rounded-pill fw-bold">
              Consultation
            </a>
          </div>
        </div>
      </div>

      <div class="col-lg-6 mt-5 mt-lg-0">
        <div class="hero-asset-wrapper" data-aos="fade-zoom-in" data-aos-delay="400">
          <div class="hero-asset-glow"></div>
          <img src="{% static 'core/img/assets/hero-vector-removebg-preview.png' %}" alt="DeepMinds AI"
            class="img-fluid position-relative z-1">
        </div>
      </div>
    </div>
  </div>
  <!-- Animated Scroll Guide -->
  <div class="scroll-guide d-none d-lg-flex" data-aos="fade-up" data-aos-delay="1000">
    <div class="mouse-icon"></div>
  </div>
</section>

<!-- Services Section -->
<section class="section-padding py-5 services-container overflow-hidden">
  <div class="container position-relative">
    <div class="row justify-content-center text-center mb-5" data-aos="fade-up">
      <div class="col-lg-8">
        <span class="section-subtitle">
          {% if site_settings.what_we_do_subtitle %}
          {{ site_settings.what_we_do_subtitle }}
          {% else %}
          What We Do
          {% endif %}
        </span>
        <h2 class="section-title">
          {% if site_settings.what_we_do_title %}
          {{ site_settings.what_we_do_title|safe }}
          {% else %}
          Comprehensive AI <span class="text-gradient">Solutions</span>
          {% endif %}
        </h2>
        <p class="text-muted">
          {% if site_settings.what_we_do_desc %}
          {{ site_settings.what_we_do_desc }}
          {% else %}
          End-to-end services to help you adopt and scale artificial intelligence with cutting-edge technology.
          {% endif %}
        </p>
      </div>
    </div>

    <div class="row g-4">
      {% for service in services %}
      <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
        <div class="modern-service-card">
          <div class="border-beam"></div>

          <div class="service-icon-wrapper">
            <i class="{{ service.icon_class|default:'fas fa-microchip' }}"></i>
          </div>

          <div class="service-content">
            <div class="service-badge-row">
              <span class="service-tag">Enterprise</span>
              <span class="service-tag">Scalable</span>
            </div>

            <h3 class="service-title">{{ service.title }}</h3>
            <p class="service-desc">{{ service.short_description }}</p>

            <ul class="card-feature-list">
              {% for feature in service.features_list %}
              <li><i class="fas fa-check-circle"></i> {{ feature }}</li>
              {% endfor %}
            </ul>

            <a href="{% url 'core:services' %}" class="service-link">
              Explore Details <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Industries Section -->
<section class="section-padding py-5 bg-darker overflow-hidden">
  <div class="container">
    <div class="text-center mb-5" data-aos="fade-up">
      <span class="section-subtitle">
        {% if site_settings.ind_subtitle %}
        {{ site_settings.ind_subtitle }}
        {% else %}
        Sectors
        {% endif %}
      </span>
      <h2 class="section-title">
        {% if site_settings.ind_title %}
        {{ site_settings.ind_title|safe }}
        {% else %}
        Industries We <span class="text-gradient">Empower</span>
        {% endif %}
      </h2>
      <p class="text-muted w-75 mx-auto">
        {% if site_settings.ind_desc %}
        {{ site_settings.ind_desc }}
        {% else %}
        Deploying autonomous intelligence across critical global infrastructures.
        {% endif %}
      </p>
    </div>

    <div class="industry-tabs-layout" data-aos="fade-up">
      <div class="row g-4">
        <!-- Tab Navigation -->
        <div class="col-lg-4">
          <div class="nav flex-column nav-pills industry-nav-pills" id="v-pills-tab" role="tablist"
            aria-orientation="vertical">
            {% for industry in industries %}
            <button class="nav-link {% if forloop.first %}active{% endif %} industry-tab-btn"
              id="v-pills-{{ industry.id }}-tab" data-bs-toggle="pill" data-bs-target="#v-pills-{{ industry.id }}"
              type="button" role="tab" aria-controls="v-pills-{{ industry.id }}"
              aria-selected="{% if forloop.first %}true{% else %}false{% endif %}">
              <i class="{{ industry.icon_class }} me-3"></i>
              <span>{{ industry.name }}</span>
            </button>
            {% endfor %}
          </div>
        </div>

        <!-- Tab Content -->
        <div class="col-lg-8">
          <div class="tab-content industry-tab-content h-100" id="v-pills-tabContent">
            {% for industry in industries %}
            <div class="tab-pane fade {% if forloop.first %}show active{% endif %} h-100" id="v-pills-{{ industry.id }}"
              role="tabpanel" aria-labelledby="v-pills-{{ industry.id }}-tab">
              <div
                class="glass-card-accent industry-display-card h-100 p-5 d-flex flex-column justify-content-center text-center">
                {% if industry.image %}
                <div class="industry-display-image mb-4">
                  <img src="{{ industry.image.url }}" alt="{{ industry.name }}" class="img-fluid rounded-4 shadow-lg">
                </div>
                {% endif %}
                <h3 class="display-6 fw-bold mb-3 text-white">{{ industry.name }}</h3>
                <p class="lead mb-4 text-light opacity-90">{{ industry.description }}</p>
                <div class="mt-auto">
                  <a href="{% url 'core:contact' %}?ref={{ industry.name }}" class="btn btn-glow btn-lg px-5">Explore
                    Industrial Case Study</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Products Section -->
<section class="section-padding py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-end mb-5" data-aos="fade-up">
      <div>
        <span class="section-subtitle">
          {% if site_settings.prod_subtitle %}
          {{ site_settings.prod_subtitle }}
          {% else %}
          Innovation
          {% endif %}
        </span>
        <h2 class="section-title">
          {% if site_settings.prod_title %}
          {{ site_settings.prod_title|safe }}
          {% else %}
          Proprietary <span class="text-gradient">Products</span>
          {% endif %}
        </h2>
      </div>
      <a href="{% url 'core:products' %}" class="btn btn-outline-light rounded-pill d-none d-md-inline-block">View All
        Products</a>
    </div>

    <div class="row g-4">
      {% for product in products %}
      <div class="col-lg-4" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|add:100 }}">
        <div class="glass-card p-5 h-100 d-flex flex-column border-gradient">
          <div class="mb-4">
            <div
              class="icon-box-lg bg-dark border border-white border-opacity-10 rounded-3 text-white d-inline-flex align-items-center justify-content-center">
              <i class="{{ product.icon_class }} fa-2x"></i>
            </div>
          </div>
          <h4 class="h5 fw-bold mb-3">{{ product.name }}</h4>
          <p class="text-muted flex-grow-1">{{ product.description }}</p>
          <div class="mt-4">
            <a href="{% url 'core:products' %}" class="btn btn-link text-white p-0 text-decoration-none">
              Learn More <i class="fas fa-chevron-right small ms-1 text-primary"></i>
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="text-center mt-4 d-md-none">
      <a href="{% url 'core:products' %}" class="btn btn-outline-light rounded-pill">View All Products</a>
    </div>
  </div>
</section>

<script>
  // Mouse tracking spotlight effect
  document.querySelectorAll('.modern-service-card').forEach(card => {
    card.addEventListener('mousemove', e => {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      card.style.setProperty('--mouse-x', `${x}px`);
      card.style.setProperty('--mouse-y', `${y}px`);
    });
  });
</script>

<!-- Projects Section -->
<section class="section-padding py-5 position-relative">
  <div class="container">
    <div class="d-flex justify-content-between align-items-end mb-5" data-aos="fade-up">
      <div>
        <span class="section-subtitle">
          {% if site_settings.proj_subtitle %}
          {{ site_settings.proj_subtitle }}
          {% else %}
          Our Work
          {% endif %}
        </span>
        <h2 class="section-title">
          {% if site_settings.proj_title %}
          {{ site_settings.proj_title|safe }}
          {% else %}
          Featured <span class="text-gradient">Projects</span>
          {% endif %}
        </h2>
      </div>
      <a href="{% url 'core:projects' %}" class="btn btn-outline-light rounded-pill d-none d-md-inline-block">View All
        Projects</a>
    </div>

    <div class="row g-4">
      {% for project in projects %}
      <div class="col-md-6 col-lg-4" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|add:100 }}">
        <div class="project-card position-relative overflow-hidden rounded-4 h-100">
          {% if project.thumbnail %}
          <img src="{{ project.thumbnail.url }}" alt="{{ project.title }}"
            class="img-fluid w-100 h-100 object-fit-cover">
          {% else %}
          <div class="bg-dark h-100 w-100 d-flex align-items-center justify-content-center" style="min-height: 300px;">
            <i class="fas fa-project-diagram fa-3x text-muted"></i>
          </div>
          {% endif %}
          <div class="project-overlay position-absolute bottom-0 start-0 w-100 p-4 glass-nav">
            <span class="badge bg-primary mb-2">{{ project.category }}</span>
            <h5 class="mb-1 text-white">{{ project.title }}</h5>
            <p class="small text-white-50 mb-0">{{ project.short_description|truncatewords:10 }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="text-center mt-4 d-md-none">
      <a href="{% url 'core:projects' %}" class="btn btn-outline-light rounded-pill">View All Projects</a>
    </div>
  </div>
</section>

<!-- Featured Courses Section -->
<section class="section-padding py-5">
  <div class="container">
    <div class="row justify-content-between align-items-end mb-5" data-aos="fade-up">
      <div class="col-lg-6">
        <span class="section-subtitle">
          {% if site_settings.course_subtitle %}
          {{ site_settings.course_subtitle }}
          {% else %}
          Level Up
          {% endif %}
        </span>
        <h2 class="section-title">
          {% if site_settings.course_title %}
          {{ site_settings.course_title|safe }}
          {% else %}
          Most Popular <span class="text-gradient">Courses</span>
          {% endif %}
        </h2>
        <p class="text-muted">
          {% if site_settings.course_desc %}
          {{ site_settings.course_desc }}
          {% else %}
          Start your journey today with our most in-demand training programs.
          {% endif %}
        </p>
      </div>
      <div class="col-lg-4 text-lg-end">
        <a href="{% url 'core:trainings' %}" class="btn btn-outline-primary rounded-pill">View All Courses</a>
      </div>
    </div>

    <div class="row g-4">
      {% for training in trainings %}
      {% if training.is_popular %}
      <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
        <div class="glass-card course-card p-0 overflow-hidden border-0 h-100 d-flex flex-column">
          <div class="course-image position-relative" style="height: 200px; background: #1a202c;">
            {% if training.thumbnail %}
            <img src="{{ training.thumbnail.url }}" alt="{{ training.title }}" class="w-100 h-100 object-fit-cover">
            {% else %}
            <div class="w-100 h-100 d-flex align-items-center justify-content-center text-primary-subtle opacity-60">
              <i class="fas fa-laptop-code fa-4x"></i>
            </div>
            {% endif %}
            <div class="position-absolute top-0 start-0 p-3">
              <span class="badge bg-primary">{{ training.level }}</span>
            </div>
          </div>
          <div class="p-4 d-flex flex-column flex-grow-1">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="rating-stars small">
                <i class="fas fa-star text-warning me-1"></i>
                <span class="fw-bold">{{ training.rating|default:"4.9" }}</span>
                <span class="text-muted ms-1">({{ training.students_count|default:"0" }} students)</span>
              </div>
            </div>

            <h5 class="mb-4 course-title fw-bold">{{ training.title }}</h5>

            <div class="mt-auto">
              <div class="course-meta-bar mb-4">
                <div class="meta-item">
                  <i class="fas fa-clock"></i>
                  <span>{{ training.duration }}</span>
                </div>
                <div class="meta-divider"></div>
                <div class="meta-item">
                  <i class="fas fa-video"></i>
                  <span>{{ training.mode }}</span>
                </div>
              </div>

              <div class="d-flex justify-content-between align-items-center pt-3 border-top border-light">
                <div class="course-price-wrapper">
                  {% if training.discount_price %}
                  <div class="h4 fw-bold mb-0">${{ training.discount_price }}</div>
                  <div class="text-muted text-decoration-line-through small">${{ training.price }}</div>
                  {% else %}
                  <div class="h4 fw-bold mb-0">${{ training.price }}</div>
                  {% endif %}
                </div>
                <a href="{% url 'core:trainings' %}" class="btn btn-sm btn-glow px-4">
                  Enroll Now
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="section-padding py-5">
  <div class="container">
    <div class="text-center mb-5" data-aos="fade-up">
      <span class="section-subtitle">
        {% if site_settings.test_subtitle %}
        {{ site_settings.test_subtitle }}
        {% else %}
        Testimonials
        {% endif %}
      </span>
      <h2 class="section-title">
        {% if site_settings.test_title %}
        {{ site_settings.test_title|safe }}
        {% else %}
        Trusted by <span class="text-gradient">Leaders</span>
        {% endif %}
      </h2>
    </div>

    <div class="row justify-content-center">
      <div class="col-12" data-aos="fade-up">
        <!-- Swiper -->
        <div class="swiper testimonial-swiper pb-5">
          <div class="swiper-wrapper">
            {% for testimonial in testimonials %}
            <div class="swiper-slide">
              <div class="glass-card p-4 text-center h-100">
                <div class="mb-4">
                  {% if testimonial.photo %}
                  <img src="{{ testimonial.photo.url }}" alt="{{ testimonial.author }}"
                    class="rounded-circle border border-2 border-primary p-1" width="100" height="100"
                    style="object-fit: cover;">
                  {% else %}
                  <div
                    class="rounded-circle bg-dark d-inline-flex align-items-center justify-content-center border border-2 border-primary p-1"
                    style="width: 100px; height: 100px;">
                    <span class="fs-1 fw-bold text-primary">{{ testimonial.author|first }}</span>
                  </div>
                  {% endif %}
                </div>
                <div class="mb-3">
                  <i class="fas fa-quote-left text-primary opacity-30 fs-1"></i>
                </div>
                <p class="fs-5 fst-italic text-light opacity-90 mb-4 px-lg-4">"{{ testimonial.quote }}"</p>
                <h5 class="mb-1 fw-bold">{{ testimonial.author }}</h5>
                <p class="text-primary small text-uppercase tracking-widest mb-0">{{ testimonial.role }}</p>
              </div>
            </div>
            {% endfor %}
          </div>
          <!-- Pagination -->
          <div class="swiper-pagination"></div>
          <!-- Navigation -->
          <div class="swiper-button-next d-none d-md-flex"></div>
          <div class="swiper-button-prev d-none d-md-flex"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-5 mb-5">
  <div class="container">
    <div class="glass-card text-center p-5 rounded-5" data-aos="zoom-in">
      <h2 class="display-5 fw-bold mb-4">Ready to Transform Your Business?</h2>
      <p class="lead text-muted mb-5 mx-auto" style="max-width: 700px;">
        Let's discuss how our AI solutions can drive growth and efficiency for your organization.
      </p>
      <a href="{% url 'core:contact' %}" class="btn btn-glow btn-lg px-5 py-3">Contact Us Today</a>
    </div>
  </div>
</section>



<script>
  // Initialize Testimonial Swiper
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.testimonial-swiper', {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: true,
      centeredSlides: false,
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      breakpoints: {
        992: {
          slidesPerView: 2,
        }
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      }
    });
  });
</script>

{% endblock %}